<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Nhà văn hoá sinh viên</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- favicon -->		
    <link rel="shortcut icon" type="image/x-icon" href="img/logo/favicon.ico">

    <!-- all css here -->

    <!-- bootstrap v3.3.6 css -->
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <!-- owl.carousel css -->
    <link rel="stylesheet" href="../css/owl.carousel.css">
    <link rel="stylesheet" href="../css/owl.transitions.css">
   <!-- Animate css -->
    <link rel="stylesheet" href="../css/animate.css">
    <!-- meanmenu css -->
    <link rel="stylesheet" href="../css/meanmenu.min.css">
    <!-- font-awesome css -->
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/themify-icons.css">
    <link rel="stylesheet" href="../css/flaticon.css">
    <!-- magnific css -->
    <link rel="stylesheet" href="../css/magnific.min.css">
    <!-- style css -->
    <link rel="stylesheet" href="../css/style.css">
    <!-- responsive css -->
    <link rel="stylesheet" href="../css/responsive.css">
    <!-- jquery latest version -->
    <script src="../js/vendor/jquery-1.12.4.min.js"></script>
    <!-- bootstrap js -->
    <script src="../js/bootstrap.min.js"></script>
    <!-- owl.carousel js -->
    <script src="../js/owl.carousel.min.js"></script>
      <!-- stellar js -->
    <script src="../js/jquery.stellar.min.js"></script>
    <!-- magnific js -->
    <script src="../js/magnific.min.js"></script>
    <!-- wow js -->
    <script src="../js/wow.min.js"></script>
    <!-- meanmenu js -->
    <script src="../js/jquery.meanmenu.js"></script>
    <!-- Form validator js -->
    <script src="../js/form-validator.min.js"></script>
    <!-- plugins js -->
    <script src="../js/plugins.js"></script>
    <!-- main js -->
    <script src="../js/main.js"></script>
    <link rel="stylesheet"
	href="https://js.arcgis.com/4.16/esri/themes/light/main.css" />
<script src="https://js.arcgis.com/4.16/"></script>

<script>
        require([
            "esri/Map",
            "esri/views/SceneView",
            "esri/layers/GeoJSONLayer",
            "esri/layers/SceneLayer", "esri/layers/GraphicsLayer", "esri/Graphic", "esri/request"
        ], function (Map, SceneView, GeoJSONLayer, SceneLayer,
                     GraphicsLayer, Graphic, esriRequest) {

        	var createGraphic = function(data) {
    			return new Graphic({
    				geometry : data,
    				symbol : data.symbol,
    				attributes : data,
    				popupTemplate : data.popupTemplate
    			});
    		};
    		
    		const json_options = {
    				query : {
    					f : "json"
    				},
    				responseType : "json"
    			};
			// request json
			


			// geojson layer
			const geojsonLayer = new GeoJSONLayer({
                url: "/gis/data.geojson",
                renderer: {
                    type: "simple",
                    symbol: {
                        type: "polygon-3d",
                        symbolLayers: [{
                            type: "extrude",
                            size: 5.00000,
                            material: {
                                color: "#00FFFF"
                            },
                            edges: {
                                type: "solid", // autocasts as new SolidEdges3D()
                                color: [50, 50, 50, 0.5]
                            },
                        }]
                    }
                }
            });

			const khungtang = new GeoJSONLayer({
                url: "/gis/data_khung_tang.geojson",
                renderer: {
                    type: "simple",
                    symbol: {
                        type: "polygon-3d",
                        symbolLayers: [{
                            type: "extrude",
                            size: 0.50000,
                            material: {
                                color: "#FFFFFF"
                            },
                            edges: {
                                type: "solid", // autocasts as new SolidEdges3D()
                                color: [50, 50, 50, 0.5]
                            },
                        }]
                    }
                }
            });

			const day = new GeoJSONLayer({
                url: "/gis/data_day.geojson",
                renderer: {
                    type: "simple",
                    symbol: {
                        type: "polygon-3d",
                        symbolLayers: [{
                            type: "extrude",
                            size: 1.00000,
                            material: {
                                color: "#00CC33"
                            },
                            edges: {
                                type: "solid", // autocasts as new SolidEdges3D()
                                color: [50, 50, 50, 0.5]
                            },
                        }]
                    }
                }
            });

			const map = new Map({
                basemap: "topo-vector",
                ground: "world-elevation",
                layers: [geojsonLayer,khungtang,day] //end layers
            });

            const view = new SceneView({
                container: "viewDiv",
                map: map,
                camera: {
                    position: [106.80061263726, 10.875102831870649, 400],
                    heading: 0,
                    tilt: 5
                }
            });
esriRequest('/gis/data.json', json_options).then(function(response) {
				var graphicsLayer = new GraphicsLayer();
				console.log(response);
				response.data.forEach(function(data){
					graphicsLayer.add(createGraphic(data));
				});
				map.add(graphicsLayer);
			});

			esriRequest('/gis/data_khung.json', json_options).then(function(response) {
				var graphicsLayer = new GraphicsLayer();
				console.log(response);
				response.data.forEach(function(data){
					graphicsLayer.add(createGraphic(data));
				});
				map.add(graphicsLayer);
			});

			esriRequest('/gis/data_khung_1.json', json_options).then(function(response) {
				var graphicsLayer = new GraphicsLayer();
				console.log(response);
				response.data.forEach(function(data){
					graphicsLayer.add(createGraphic(data));
				});
				map.add(graphicsLayer);
			});
            view.popup.defaultPopupTemplateEnabled = true;

        });

    </script>
</head>
    <script src="../js/vendor/modernizr-2.8.3.min.js"></script>  



<body>
    <div id="preloader"></div>
        <header class="header-one">
            <!-- header-area start -->
            <div id="sticker" class="header-area hidden-xs">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="row">
                                <!-- logo start -->
                                <div class="col-md-3 col-sm-3">
                                    <div class="logo">
                                        <!-- Brand -->
                                        <a class="navbar-brand page-scroll white-logo" href="index-2.html">
                                            <img src="../img/logo/logo-3.png" alt="">
                                        </a>
                                        <a class="navbar-brand page-scroll black-logo" href="index-2.html">
                                            <img src="../img/logo/logo-4.png" alt="">
                                        </a>
                                    </div>
                                    <!-- logo end -->
                                </div>
                                <div class="col-md-9 col-sm-9">
                                    <%-dangnhap%>
                                    <!-- mainmenu start -->
                                    <nav class="navbar navbar-default">
                                        <div class="collapse navbar-collapse" id="navbar-example">
                                            <div class="main-menu">
                                                <ul class="nav navbar-nav navbar-right">
                                                    <li><a href="/about">Giới thiệu</a></li>
                                                    <li><a href="/3D">Xem 3D</a></li>
                                                    <li><a href="/feedback">Đánh giá</a></li>
                                                    <li><a href="contact.html">Liên hệ</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </nav>
                                    <!-- mainmenu end -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- header-area end -->
        </header>
        <div class="page-area">
            <div class="breadcumb-overlay"></div>
            <div class="container">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="breadcrumb text-center">
                            <div class="section-headline white-headline">
                                <h3>3D</h3>
                            </div>
                            <ul class="breadcrumb-bg">
                                <li class="home-bread">Home</li>
                                <li>3D</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
	<div id="viewDiv"></div>
    <footer class="footer1">
        <div class="footer-area">
            <div class="container">
                <div class="row">
                    <div class="col-md-5 col-sm-5 col-xs-12">
                        <div class="footer-content logo-footer">
                            <div class="footer-head">
                                <div class="footer-logo">
                                    <a class="footer-black-logo" href="#"><img src="../img/logo/logo-fn.png" alt=""></a>
                                </div>
                                <p>
                                    Không gian học tập và sinh hoạt hiện đại bậc nhất dành cho sinh viên TP. Hồ Chí Minh.
                                </p>
                                
                            </div>
                        </div>
                    </div>
                    <!-- end single footer -->
                    
                    <!-- end single footer -->
                    <div class="col-md-3 col-sm-4 col-xs-12">
                        <div class="footer-content last-content">
                            <div class="footer-head">
                                <h4>Information</h4> 
                                <div class="footer-contacts">
                                    <p><span>Điện thoại :</span> +0890-564-5644</p>
                                    <p><span>Email :</span> info@aievari4.com</p>
                                    <p><span>Địa chỉ :</span> House- 65/4, London</p>
                                </div> 
                                <div class="footer-icons">
                                    <ul>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-facebook"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-twitter"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-google"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-pinterest"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-instagram"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-area-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="copyright">
                            <p>
                                Copyright © 2021
                                <a href="#">4H</a> All Rights Reserved
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer area -->
    
    <!-- all js here -->
    
    
    
    </body>
    
    </html>